<!DOCTYPE html>

<html>
    <head>
        <title>Tatsu WebGL Demo</title>
        <!-- TODO: Minify tatsu.js and associated scripts. -->
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
        <script src="../../lib/glMatrix-0.9.5.min.js"></script>
        <script src="../../src/Tatsu.js"></script>
        <script src="../../src/Graphics/Renderer.js"></script>
        <script src="../../src/Graphics/Material.js"></script>
        
        <script id="shader-fs" type="x-shader/x-fragment"> 
            #ifdef GL_ES
            precision highp float;
            #endif

            void main(void) {
                gl_FragColor = vec4(1.0, 1.0, 1.0, 1.0);
            }
        </script> 

        <script id="shader-vs" type="x-shader/x-vertex"> 
            attribute vec3 position;

            uniform mat4 matModelView;
            uniform mat4 matProj;

            void main(void) {
                gl_Position = matProj * matModelView * vec4(position, 1.0);
            }
        </script>
        
        <script type="text/javascript">
            var tatsu, material,
                attributes = {
                    position: {
                        type: 'v3',
                        value: vec3.create()
                    }
                },
                uniforms = {
                    matModelView: {
                        type: 'm4',
                        value: mat4.identity(mat4.create())
                    },
                    matProj: {
                        type: 'm4',
                        value: mat4.identity(mat4.create())
                    }
                };

            function draw() {
                tatsu.clear();


            }

            function doFrame() {
                requestAnimationFrame(doFrame);
                draw();
            }

            function tatsuLoad() {
                tatsu = new Tatsu.Renderer({
                    element: 'tatsu-canvas',
                    clearColor: [0.392156862745098, 0.5843137254901961, 0.9294117647058824]
                });
                material = new Tatsu.Material(tatsu, {
                    fragment: $('shader-fs').html(),
                    vertex: $('shader-vs').html(),
                    attributes: attributes,
                    uniforms: uniforms
                });

                doFrame();
            }
        </script>
    </head>
    <body onload="tatsuLoad();">
        <canvas id="tatsu-canvas" style="border: none;" width="1440" height="672"></canvas>
    </body>
</html>